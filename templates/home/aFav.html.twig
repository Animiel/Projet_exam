{% extends 'base.html.twig' %}

{% block title %}PetSeek | Profil | Mes annonces favorites{% endblock %}

{% block body %}

<h1>Mes annonces favorites</h1>

<div id="grid">
    
    {% for annonce in app.user.annonceFavorites %}
        <div class="wanted">
            <img src="{{ asset('/img/annonces/' ~ annonce.image ~ '') }}" class="wanted-pic">
            {% if app.user %}
                <a href="{{ path('remove_afav', {'id': annonce.id }) }}">
                    <i class="fa-solid fa-heart" style="color: #d747cb;"></i>
                </a>
            {% endif %}

            <h3>Signes distinctifs</h3>

            <ul>
                <li>
                    {{ annonce.infoUne }}
                </li>
                {% if annonce.infoDeux %}
                    <li>
                        {{ annonce.infoDeux }}
                    </li>
                {% endif %}
                {% if annonce.infoTrois %}
                    <li>
                        {{ annonce.infoTrois }}
                    </li>
                {% endif %}
            </ul>
            {% if app.user %}
                <a href="{{ path('notif_annonce', {'id': annonce.annonceUser.id }) }}">J'ai une info !</a>
            {% else %}
                <p></p>
            {% endif %}
            {% if is_granted('ROLE_ADMIN') %} {# fonction admin #}
                <a href="{{ path('suppr_annonce', {'id': annonce.id }) }}">Supprimer l'annonce</a><br>
                <a href="{{ path('ban_user', {'id': annonce.annonceUser.id }) }}">Bannir l'utilisateur</a>
            {% endif %}
        </div>
    {% endfor %}
</div>

{% endblock %}